<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tool Name - DevChef Tool</title>
</head>
<body>

<!-- DevChef Manifest -->
<script type="devchef-manifest">
{
  "id": "my-tool",
  "name": "My Tool Name",
  "category": "Category",
  "description": "Brief description of what this tool does",
  "version": "1.0.0",
  "keywords": ["keyword1", "keyword2", "keyword3"]
}
</script>

<!-- Tool UI Template -->
<template id="tool-ui">
  <div class="tool-container">
    <!-- Header -->
    <div class="tool-header">
      <h2 class="tool-title">My Tool Name</h2>
      <p class="tool-description">Detailed description of what this tool does and how to use it</p>
    </div>

    <!-- Input Section -->
    <div class="tool-section">
      <label class="section-label">Input</label>
      <tool-textarea
        id="input"
        placeholder="Enter text here..."
        monospace
        rows="8">
      </tool-textarea>
    </div>

    <!-- Options Section (Optional) -->
    <div class="tool-section">
      <label class="section-label">Options</label>
      <div style="display: flex; gap: 16px; flex-wrap: wrap;">
        <label>
          <input type="checkbox" id="option1">
          <span>Option 1</span>
        </label>
        <label>
          <span>Select an option:</span>
          <tool-select
            id="option2"
            options='[{"value":"opt1","label":"Option A"},{"value":"opt2","label":"Option B"}]'
            value="opt1">
          </tool-select>
        </label>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="tool-section">
      <tool-button id="process-btn" variant="primary" label="Process"></tool-button>
      <tool-button id="copy-btn" variant="secondary" label="Copy Result"></tool-button>
      <tool-button id="clear-btn" variant="secondary" label="Clear"></tool-button>
    </div>

    <!-- Status Display -->
    <div class="tool-section">
      <tool-status id="status"></tool-status>
    </div>

    <!-- Output Section -->
    <div class="tool-section">
      <label class="section-label">Output</label>
      <tool-textarea
        id="output"
        readonly
        monospace
        rows="8">
      </tool-textarea>
    </div>
  </div>
</template>

<!-- Tool-Specific Styles (Optional) -->
<style>
  /* Add tool-specific styles here if needed */
  /* Use CSS custom properties from shared-styles.css for consistency */

  /* Example custom layout:
  .my-custom-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-md);
  }
  */
</style>

<!-- Tool Module Logic -->
<script type="module">
// Import shared utilities if needed
// import { copyToClipboard, showError, hideError } from '../core/tool-utils.js';

export const DevChefTool = {
  container: null,
  context: null,

  /**
   * Initialize the tool
   * @param {HTMLElement} container - Tool container element
   * @param {Object} context - Tool context with input/output methods
   */
  init(container, context) {
    this.container = container;
    this.context = context;

    // Get component references
    const inputEl = container.querySelector("#input");
    const outputEl = container.querySelector("#output");
    const statusEl = container.querySelector("#status");
    const processBtn = container.querySelector("#process-btn");
    const copyBtn = container.querySelector("#copy-btn");
    const clearBtn = container.querySelector("#clear-btn");

    // Handle input changes (auto-process)
    inputEl?.addEventListener("input", (e) => {
      context.setInput(e.detail.value);
    });

    // Handle process button
    processBtn?.addEventListener("tool-click", () => {
      const input = inputEl.getValue();

      if (!input.trim()) {
        statusEl.show("⚠ Please enter some text", "warning", 3000);
        return;
      }

      try {
        // TODO: Implement your processing logic here
        const result = this.processInput(input);

        outputEl.setValue(result);
        context.setOutput(result);
        statusEl.show("✓ Processed successfully", "success", 2000);
      } catch (error) {
        statusEl.show(`✗ Error: ${error.message}`, "error", 5000);
        outputEl.setValue("");
      }
    });

    // Handle copy button
    copyBtn?.addEventListener("tool-click", () => {
      const output = outputEl.getValue();

      if (!output) {
        statusEl.show("⚠ Nothing to copy", "warning", 2000);
        return;
      }

      navigator.clipboard.writeText(output)
        .then(() => {
          statusEl.show("✓ Copied to clipboard", "success", 2000);
        })
        .catch(() => {
          statusEl.show("✗ Failed to copy", "error", 2000);
        });
    });

    // Handle clear button
    clearBtn?.addEventListener("tool-click", () => {
      inputEl.clear();
      outputEl.clear();
      context.setInput("");
      context.setOutput("");
      statusEl.hide();
    });
  },

  /**
   * Process input when it changes (auto-processing)
   * @param {string} input - Input text
   * @param {Object} context - Tool context
   * @returns {Object} - Result object with output
   */
  onInput(input, context) {
    if (!input.trim()) {
      return { output: "" };
    }

    try {
      // TODO: Implement your processing logic here
      const result = this.processInput(input);

      return { output: result };
    } catch (error) {
      return { output: "", errors: [error.message] };
    }
  },

  /**
   * Your custom processing logic
   * @param {string} input - Input text
   * @returns {string} - Processed result
   */
  processInput(input) {
    // TODO: Replace with your actual logic
    // Example: Convert to uppercase
    return input.toUpperCase();
  },

  /**
   * Cleanup when switching tools (optional)
   * @param {Object} context - Tool context
   */
  cleanup(context) {
    // TODO: Add any cleanup logic here (remove event listeners, etc.)
  }
};

// Standalone mode initialization (for testing tool independently)
if (typeof window !== 'undefined' && !window.DevChef) {
  document.addEventListener('DOMContentLoaded', () => {
    const isStandalone = !document.querySelector('#workspace');

    if (isStandalone) {
      const standaloneContext = {
        input: "",
        output: "",
        setInput(val) {
          this.input = val;
          if (this.onInputChanged) this.onInputChanged(val);
        },
        setOutput(val) {
          this.output = val;
        },
        getInput() { return this.input; },
        getOutput() { return this.output; },
        onInputChanged: null
      };

      const template = document.querySelector('#tool-ui');
      if (template) {
        document.body.innerHTML = template.innerHTML;
        DevChefTool.init(document.body, standaloneContext);

        standaloneContext.onInputChanged = (input) => {
          const result = DevChefTool.onInput(input, standaloneContext);
          if (result?.output !== undefined) {
            standaloneContext.setOutput(result.output);
          }
        };
      }
    }
  });
}
</script>

<!--
==============================================================================
QUICK START GUIDE
==============================================================================

1. RENAME THIS FILE
   - Copy this file to a new name: my-tool.html
   - Use kebab-case naming (lowercase-with-dashes.html)

2. UPDATE THE MANIFEST
   - Change "id" to match your filename (without .html)
   - Set "name" to the display name
   - Choose appropriate "category"
   - Write clear "description"
   - Add relevant "keywords" for search

3. UPDATE THE UI
   - Change tool title and description
   - Customize input/output sections
   - Add/remove components as needed
   - Use components from the library:
     * tool-button (buttons)
     * tool-textarea (text areas)
     * tool-input (text inputs)
     * tool-select (dropdowns)
     * tool-file-input (file uploads)
     * tool-status (status messages)
     * tool-container (layouts)

4. IMPLEMENT YOUR LOGIC
   - Edit processInput() method
   - Add any additional methods needed
   - Use component API methods:
     * getValue() / setValue()
     * show() / hide()
     * addEventListener("tool-click", ...)

5. ADD TO TOOL INDEX
   - Add your filename to tools/index.json
   - Reload DevChef to see your tool

6. TEST STANDALONE
   - Open your-tool.html directly in browser
   - Test all functionality
   - Check console for errors

7. TEST IN DEVCHEF
   - Run: cd DevChef && python -m http.server 8000
   - Open: http://localhost:8000
   - Find your tool in the sidebar
   - Test thoroughly

COMPONENT REFERENCE:
   See docs/components.md for full API documentation

EXAMPLES:
   Check these migrated tools for reference:
   - base64-tool.html (simple)
   - json-formatter.html (medium)
   - hash-generator.html (multiple outputs)
   - csv-json-converter.html (complex with modes)
   - diff-checker.html (two-panel layout)

TIPS:
   - Use shared CSS variables for consistency
   - Import tool-utils.js for common functions
   - Keep tool-specific styles minimal
   - Test in both standalone and DevChef modes
   - Handle errors gracefully with try-catch

NEED HELP?
   - Read docs/components.md
   - Check component-demo.html for examples
   - Review existing tools for patterns
==============================================================================
-->

</body>
</html>
